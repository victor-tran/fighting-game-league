<div class="tab-pane active">
  <h1><%= @league.name %> Statistics</h1>
  <h2>Total Matches Played: <%= @league.total_matches_played %></h2>
  <h3>All Seasons & Tournament Matches</h3>

    <%= label_tag 'Season:' %>
    <%= collection_select(:season, :season_id, @league.seasons, :id, :number,
                          { selected: @league.current_season.id } ) %>
    <%= submit_tag "Go" %>

  <!-- Table -->
  <div class="table-responsive season-table">
    <table class="table table-bordered table-hover">
      <% regular_season_standings = @league.generate_user_standings(
                                      @league.matches.where("season_id = ? AND tournament_id IS NULL", @selected_season.id)) %>
      <tr>
        <th>Fighter</th>
        <th>MP</th>
        <th>W</th>
        <th>L</th>
      </tr>
      <% for i in 0..regular_season_standings.count - 1 %>
        <tr>
          <td>
            <%= link_to User.find(regular_season_standings[i][0]).alias, user_path(User.find(regular_season_standings[i][0])) %>
          </td>
          <td>
            <%= regular_season_standings[i][1][2] %>
          </td>
          <td>
            <%= regular_season_standings[i][1][0] %>
          </td>
          <td>
            <%= regular_season_standings[i][1][1] %>
          </td>
        </tr>
      <% end %>
    </table>
  </div>
</div>